{"version":3,"file":"index.js","sources":["../src/js/stars.js","../src/js/weekly.js","../src/main.js"],"sourcesContent":["const emptyStar = `<svg class=\"star\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M16.875 7.3125H10.8281L9 1.6875L7.17188 7.3125H1.125L6.04688 10.6875L4.14844 16.3125L9 12.7969L13.8516 16.3125L11.9531 10.6875L16.875 7.3125Z\" stroke=\"url(#paint0_linear_405_766)\" stroke-linejoin=\"round\"/>\n<defs>\n<linearGradient id=\"paint0_linear_405_766\" x1=\"3.375\" y1=\"2.625\" x2=\"13.5\" y2=\"16.5\" gradientUnits=\"userSpaceOnUse\">\n<stop stop-color=\"#F84119\"/>\n<stop offset=\"1\" stop-color=\"#F89F19\" stop-opacity=\"0.68\"/>\n</linearGradient>\n</defs>\n</svg>`;\n\nconst fullStar = `<svg class=\"star\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"rgba(248, 65, 25, 1)\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M16.875 7.3125H10.8281L9 1.6875L7.17188 7.3125H1.125L6.04688 10.6875L4.14844 16.3125L9 12.7969L13.8516 16.3125L11.9531 10.6875L16.875 7.3125Z\" stroke=\"url(#paint0_linear_405_766)\" stroke-linejoin=\"round\"/>\n<defs>\n<linearGradient id=\"paint0_linear_405_766\" x1=\"3.375\" y1=\"2.625\" x2=\"13.5\" y2=\"16.5\" gradientUnits=\"userSpaceOnUse\">\n<stop stop-color=\"#F84119\"/>\n<stop offset=\"1\" stop-color=\"#F89F19\" stop-opacity=\"0.68\"/>\n</linearGradient>\n</defs>\n</svg>`;\n\nconst halfStar = `<svg class=\"star\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M16.875 7.3125H10.8281L9 1.6875L7.17188 7.3125H1.125L6.04688 10.6875L4.14844 16.3125L9 12.7969L13.8516 16.3125L11.9531 10.6875L16.875 7.3125Z\" stroke=\"url(#paint0_linear_148_6991)\" stroke-linejoin=\"round\"/>\n<path d=\"M9 1.6875V12.7969L4.14844 16.3125L6.04688 10.6875L1.125 7.3125H7.17188L9 1.6875Z\" fill=\"url(#paint1_linear_148_6991)\"/>\n<defs>\n<linearGradient id=\"paint0_linear_148_6991\" x1=\"3.04877\" y1=\"2.73251\" x2=\"13.478\" y2=\"16.7124\" gradientUnits=\"userSpaceOnUse\">\n<stop stop-color=\"#F84119\"/>\n<stop offset=\"1\" stop-color=\"#F89F19\" stop-opacity=\"0.68\"/>\n</linearGradient>\n<linearGradient id=\"paint1_linear_148_6991\" x1=\"2.08688\" y1=\"2.73251\" x2=\"12.1506\" y2=\"9.47748\" gradientUnits=\"userSpaceOnUse\">\n<stop stop-color=\"#F84119\"/>\n<stop offset=\"1\" stop-color=\"#F89F19\" stop-opacity=\"0.68\"/>\n</linearGradient>\n</defs>\n</svg>`;\n\nexport function createStarRating(data) {\n    let ratingStars = '';\n  \n    if (!data) {\n      ratingStars = `${emptyStar.repeat(5)}`;\n      return `<div>${ratingStars}</div>`;\n    }\n  \n    const rating = Math.round(data);\n  \n    switch (rating) {\n      case 0:\n        ratingStars = `${emptyStar.repeat(5)}`;\n        break;\n      case 1:\n        ratingStars = `${halfStar}${emptyStar.repeat(4)}`;\n        break;\n      case 2:\n        ratingStars = `${fullStar}${emptyStar.repeat(4)}`;\n        break;\n      case 3:\n        ratingStars = `${fullStar}${halfStar}${emptyStar.repeat(3)}`;\n        break;\n      case 4:\n        ratingStars = `${fullStar.repeat(2)}${emptyStar.repeat(3)}`;\n        break;\n      case 5:\n        ratingStars = `${fullStar.repeat(2)}${halfStar}${emptyStar.repeat(2)}`;\n        break;\n      case 6:\n        ratingStars = `${fullStar.repeat(3)}${emptyStar.repeat(2)}`;\n        break;\n      case 7:\n        ratingStars = `${fullStar.repeat(3)}${halfStar}${emptyStar}`;\n        break;\n      case 8:\n        ratingStars = `${fullStar.repeat(4)}${emptyStar}`;\n        break;\n      case 9:\n        ratingStars = `${fullStar.repeat(4)}${halfStar}`;\n        break;\n      case 10:\n        ratingStars = `${fullStar.repeat(5)}`;\n        break;\n      default:\n        throw new Error('Invalid rating');\n    }\n  \n    return `<div>${ratingStars}</div>`;\n  }\n","import { BASE_URL, IMG_BASE_URL, ENDPOINTS, fetchMovies, fetchGenres } from './fetchMovies.js';\nimport { createStarRating } from './stars';\n\nlet isExpanded = false;\nlet allMovies = [];\nlet genresMap = {};\n\nexport async function loadWeeklyTrends() {\n  const trendsContainer = document.getElementById('trends-container');\n  const seeAllBtn = document.getElementById('see-all-trends');\n\n  genresMap = await fetchGenres();\n  const data = await fetchMovies(BASE_URL, ENDPOINTS.TRENDING_WEEK);\n  allMovies = data.results;\n\n  // İlk yüklemede ekran genişliğine göre render et\n  const initialCount = window.innerWidth < 768 ? 1 : 3;\n  renderMovies(trendsContainer, allMovies.slice(0, initialCount));\n\n  // Butona tıklama olayı\n  seeAllBtn.addEventListener('click', () => {\n    const isCurrentlyExpanded =\n      trendsContainer.classList.contains('is-expanded');\n\n    if (!isCurrentlyExpanded) {\n      renderMovies(trendsContainer, allMovies); // tümünü göster\n      trendsContainer.classList.add('is-expanded');\n      seeAllBtn.textContent = 'Show Less';\n      isExpanded = true;\n    } else {\n      const count = window.innerWidth < 768 ? 1 : 3;\n      renderMovies(trendsContainer, allMovies.slice(0, count)); // sadece ilk film(ler)\n      trendsContainer.classList.remove('is-expanded');\n      seeAllBtn.textContent = 'See All';\n      isExpanded = false;\n    }\n  });\n\n  // Ekran boyutu değiştiğinde kart sayısını güncelle\n  window.addEventListener('resize', () => {\n    if (!isExpanded) {\n      const count = window.innerWidth < 768 ? 1 : 3;\n      renderMovies(trendsContainer, allMovies.slice(0, count));\n    }\n  });\n}\n\nfunction renderMovies(container, movieList) {\n  container.innerHTML = movieList\n    .map((movie, index) => {\n      const delay = index >= 3 ? (index - 2) * 100 : 0; // 4. karttan itibaren gecikmeli\n      return renderMovieCard(movie, delay);\n    })\n    .join('');\n}\n\nfunction renderMovieCard(movie, delay = 0) {\n  const genres = movie.genre_ids.map(id => genresMap[id]).join(', ');\n  const starRating = createStarRating(movie.vote_average);\n\n  return `\n    <div class=\"trend-card\" data-id=\"${movie.id}\" style=\"animation-delay: ${delay}ms;\">\n      <img src=\"${IMG_BASE_URL}${ENDPOINTS.IMG_W500}${movie.poster_path}\" alt=\"${movie.title}\">\n      <div class=\"trend-info\">\n        <h3>${movie.title}</h3>\n        <p>${genres} | ${movie.release_date?.split('-')[0] || 'N/A'}</p>\n        <div class=\"trend-stars\">${starRating}</div>\n      </div>\n    </div>\n  `;\n}\n","import './js/fetchMovies';\nimport { loadWeeklyTrends } from './js/weekly';\n\nloadWeeklyTrends();"],"names":["emptyStar","fullStar","halfStar","createStarRating","data","ratingStars","isExpanded","allMovies","genresMap","loadWeeklyTrends","trendsContainer","seeAllBtn","fetchGenres","fetchMovies","BASE_URL","ENDPOINTS","initialCount","renderMovies","count","container","movieList","movie","index","delay","renderMovieCard","genres","id","starRating","IMG_BASE_URL","_a"],"mappings":"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"}