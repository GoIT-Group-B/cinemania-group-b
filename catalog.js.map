{"version":3,"file":"catalog.js","sources":["../src/js/generate-stars.js","../src/js/catalog-hero.js"],"sourcesContent":["export function generateStars(vote) {\n  const ratingOutOf5 = Math.round(vote) / 2; // 10 üzerinden → 5'e indir\n  const fullStars = Math.floor(ratingOutOf5); // Tam dolu yıldız\n  const halfStar = ratingOutOf5 % 1 >= 0.5 ? 1 : 0; // Yarım varsa 1\n  const emptyStars = 5 - fullStars - halfStar;\n\n  let stars = '';\n\n  for (let i = 0; i < fullStars; i++) {\n    stars += '<span class=\"star\">★</span>';\n  }\n\n  if (halfStar) {\n    stars += '<span class=\"half-star\">⯨</span>'; // Alternatif: ✬ veya stil vereceğiz\n  }\n\n  for (let i = 0; i < emptyStars; i++) {\n    stars += '<span class=\"star-empty\">☆</span>';\n  }\n\n  return stars;\n}","import { fetchMovies, BASE_URL, ENDPOINTS, IMG_BASE_URL, fetchGenres } from './fetchMovies';\nimport { generateStars } from './generate-stars';\n\nasync function fetchTrendingMovie() {\n  const response = await fetchMovies(BASE_URL, ENDPOINTS.POPULAR_MOVIES);\n  const data = await response.results;\n\n  let index = 0;\n  const heroContainer = document.querySelector('.hero-container');\n\n  // İlk film\n  updateHero(data[index]);\n\n  setInterval(() => {\n    // Opaklığı sıfırla (kaybolsun)\n    heroContainer.style.opacity = '0';\n\n    // Bekle ve sonra değiştir\n    setTimeout(() => {\n      index = (index + 1) % data.length;\n      updateHero(data[index]);\n      \n      // Yeni film geldiğinde tekrar görünür yap\n      heroContainer.style.opacity = '1';\n    }, 500); // Geçiş efekti süresi\n  }, 5000);\n}\n\n\nfunction updateHero(movie) {\n  \n  const heroContainer = document.querySelector('.hero-container');\n  console.log(movie);\n\n  const backgroundUrl = `${IMG_BASE_URL}${ENDPOINTS.IMG_W1280}${movie.backdrop_path}`;\n    heroContainer.style.backgroundImage = `url('${backgroundUrl}')`;\n\nconst starsHTML = generateStars(movie.vote_average);\n\nheroContainer.innerHTML = `\n<div class=\"hero-content\">\n  <h1 class=\"hero-title\">${movie.title}</h1>\n  <div class=\"hero-rating\">${starsHTML}</div>\n  <p class=\"hero-description\">${movie.overview}</p>\n  <div class=\"hero-buttons\">\n    <button class=\"watch-trailer-btn\">Watch trailer</button>\n    <button class=\"more-details-btn\">More details</button>\n  </div>\n</div>\n\n`;  \n}\n\nasync function fetchCategories() {\n  const response = await fetch(\n    `${BASE_URL}/genre/movie/list?api_key=${API_KEY}&language=en-US`\n  );\n  const data = await response.json();\n  renderCategories(data.genres);\n}\n\nfunction renderCategories(genres) {\n  const categorySection = document.getElementById('category');\n  if (!categorySection) return;\n\n  categorySection.innerHTML = genres\n    .map(\n      genre => `\n        <div class=\"category-card\">${genre.name}</div>\n      `\n    )\n    .join('');\n}\n\nfetchTrendingMovie();\nfetchCategories();\n\nexport { fetchTrendingMovie, updateHero, fetchCategories, renderCategories };\n"],"names":["generateStars","vote","ratingOutOf5","fullStars","halfStar","emptyStars","stars","i","fetchTrendingMovie","data","fetchMovies","BASE_URL","ENDPOINTS","index","heroContainer","updateHero","movie","backgroundUrl","IMG_BASE_URL","starsHTML","fetchCategories","renderCategories","genres","categorySection","genre"],"mappings":"iJAAO,SAASA,EAAcC,EAAM,CAClC,MAAMC,EAAe,KAAK,MAAMD,CAAI,EAAI,EAClCE,EAAY,KAAK,MAAMD,CAAY,EACnCE,EAAWF,EAAe,GAAK,GAAM,EAAI,EACzCG,EAAa,EAAIF,EAAYC,EAEnC,IAAIE,EAAQ,GAEZ,QAASC,EAAI,EAAGA,EAAIJ,EAAWI,IAC7BD,GAAS,8BAGPF,IACFE,GAAS,oCAGX,QAASC,EAAI,EAAGA,EAAIF,EAAYE,IAC9BD,GAAS,oCAGX,OAAOA,CACT,CClBA,eAAeE,GAAqB,CAElC,MAAMC,EAAO,MADI,MAAMC,EAAYC,EAAUC,EAAU,cAAc,GACzC,QAE5B,IAAIC,EAAQ,EACZ,MAAMC,EAAgB,SAAS,cAAc,iBAAiB,EAG9DC,EAAWN,EAAKI,CAAK,CAAC,EAEtB,YAAY,IAAM,CAEhBC,EAAc,MAAM,QAAU,IAG9B,WAAW,IAAM,CACfD,GAASA,EAAQ,GAAKJ,EAAK,OAC3BM,EAAWN,EAAKI,CAAK,CAAC,EAGtBC,EAAc,MAAM,QAAU,GAC/B,EAAE,GAAG,CACP,EAAE,GAAI,CACT,CAGA,SAASC,EAAWC,EAAO,CAEzB,MAAMF,EAAgB,SAAS,cAAc,iBAAiB,EAC9D,QAAQ,IAAIE,CAAK,EAEjB,MAAMC,EAAgB,GAAGC,CAAY,GAAGN,EAAU,SAAS,GAAGI,EAAM,aAAa,GAC/EF,EAAc,MAAM,gBAAkB,QAAQG,CAAa,KAE/D,MAAME,EAAYnB,EAAcgB,EAAM,YAAY,EAElDF,EAAc,UAAY;AAAA;AAAA,2BAECE,EAAM,KAAK;AAAA,6BACTG,CAAS;AAAA,gCACNH,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAQ9C,CAEA,eAAeI,GAAkB,CAI/B,MAAMX,EAAO,MAHI,MAAM,MACrB,GAAGE,CAAQ,6BAA6B,OAAO,iBAChD,GAC2B,KAAM,EAClCU,EAAiBZ,EAAK,MAAM,CAC9B,CAEA,SAASY,EAAiBC,EAAQ,CAChC,MAAMC,EAAkB,SAAS,eAAe,UAAU,EACrDA,IAELA,EAAgB,UAAYD,EACzB,IACCE,GAAS;AAAA,qCACsBA,EAAM,IAAI;AAAA,OAE/C,EACK,KAAK,EAAE,EACZ,CAEAhB,EAAoB,EACpBY,EAAiB"}