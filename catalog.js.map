{"version":3,"file":"catalog.js","sources":["../src/js/fetchMovies.js","../src/js/catalog-hero.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_KEY = \"52238d7fab5c2c01b99e751619dd16ec\";\r\nconst BASE_URL = 'https://api.themoviedb.org/3';\r\nconst IMG_BASE_URL = 'https://image.tmdb.org/t/p';\r\n\r\nexport { BASE_URL, IMG_BASE_URL };\r\n\r\n    \r\nexport const ENDPOINTS = {\r\n  POPULAR_MOVIES: '/movie/popular',\r\n  UPCOMING_MOVIES: '/movie/upcoming',\r\n  TRENDING_WEEK: '/trending/movie/week',\r\n  TRENDING_DAY: '/trending/movie/day',\r\n  SEARCH_MOVIES: '/search/movie',\r\n  GENRE_LIST: '/genre/movie/list',\r\n  MOVIE_DETAILS: movieId => `/movie/${movieId}`,\r\n  MOVIE_VIDEOS: movieId => `/movie/${movieId}/videos`,\r\n  IMG_ORIGINAL: '/original',\r\n  IMG_W500: '/w500',\r\n  IMG_W780: '/w780',\r\n  IMG_W1280: '/w1280',\r\n};\r\n\r\n\r\nexport async function fetchMovies(baseUrl, endpoint, params = {}) {\r\n  try {\r\n    const response = await axios.get(`${baseUrl}${endpoint}`, {\r\n      params: {\r\n        api_key: API_KEY,\r\n        language: 'en-US',\r\n        page: 1,\r\n        ...params,\r\n      },\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error fetching data:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function fetchGenres() {\r\n  try {\r\n    const response = await axios.get(`${BASE_URL}${ENDPOINTS.GENRE_LIST}`, {\r\n      params: { api_key: API_KEY, language: 'en-US' },\r\n    });\r\n    const map = {};\r\n    response.data.genres.forEach(g => {\r\n      map[g.id] = g.name;\r\n    });\r\n    return map;\r\n  } catch (err) {\r\n    console.error('Error fetching genres:', err);\r\n    return {};\r\n  }\r\n}","import { fetchMovies, BASE_URL, ENDPOINTS, IMG_BASE_URL, fetchGenres } from './fetchMovies';\n\nasync function fetchTrendingMovie() {\n  const response = await fetchMovies(BASE_URL, ENDPOINTS.POPULAR_MOVIES);\n  console.log(\"response:\", response.results)\n  const data = await response.results;\n  console.log(\"data:\", data)\n  const movie = data[0];\n  console.log(\"movie:\",movie )\n  updateHero(movie);\n}\n\nfunction updateHero(movie) {\n  \n  const heroContainer = document.querySelector('.hero-container');\n  console.log(movie);\n\nheroContainer.innerHTML = `\n<div class=\"hero-content\">\n  <h1 class=\"hero-title\">${movie.title}</h1>\n  <div class=\"hero-rating\">\n    <span class=\"star\">★</span><span class=\"star\">★</span><span class=\"star\">★</span><span class=\"star\">★</span><span class=\"star-empty\">★</span> \n  </div>\n  <p class=\"hero-description\">${movie.overview}</p>\n  <div class=\"hero-buttons\">\n    <button class=\"watch-trailer-btn\">Watch trailer</button>\n    <button class=\"more-details-btn\">More details</button>\n  </div>\n</div>\n<div class=\"hero-image-container\">\n  <img src=\"${IMG_BASE_URL}/original${movie.backdrop_path}\" alt=\"${movie.title} backdrop\" class=\"hero-backdrop-image\">\n</div>\n`;\n  \n}\n\nasync function fetchCategories() {\n  const response = await fetch(\n    `${BASE_URL}/genre/movie/list?api_key=${API_KEY}&language=en-US`\n  );\n  const data = await response.json();\n  renderCategories(data.genres);\n}\n\nfunction renderCategories(genres) {\n  const categorySection = document.getElementById('category');\n  if (!categorySection) return;\n\n  categorySection.innerHTML = genres\n    .map(\n      genre => `\n        <div class=\"category-card\">${genre.name}</div>\n      `\n    )\n    .join('');\n}\n\nfetchTrendingMovie();\nfetchCategories();\n\nexport { fetchTrendingMovie, updateHero, fetchCategories, renderCategories };\n"],"names":["API_KEY","BASE_URL","IMG_BASE_URL","ENDPOINTS","fetchMovies","baseUrl","endpoint","params","axios","error","fetchTrendingMovie","response","data","movie","updateHero","heroContainer","fetchCategories","renderCategories","genres","categorySection","genre"],"mappings":"mFAEA,MAAMA,EAAU,mCACVC,EAAW,+BACXC,EAAe,6BAKRC,EAAY,CACvB,eAAgB,gBAYlB,EAGO,eAAeC,EAAYC,EAASC,EAAUC,EAAS,CAAA,EAAI,CAChE,GAAI,CASF,OARiB,MAAMC,EAAM,IAAI,GAAGH,CAAO,GAAGC,CAAQ,GAAI,CACxD,OAAQ,CACN,QAASN,EACT,SAAU,QACV,KAAM,EACN,GAAGO,CACJ,CACP,CAAK,GACe,IACjB,OAAQE,EAAO,CACd,cAAQ,MAAM,uBAAwBA,CAAK,EACrCA,CACP,CACH,CCtCA,eAAeC,GAAqB,CAClC,MAAMC,EAAW,MAAMP,EAAYH,EAAUE,EAAU,cAAc,EACrE,QAAQ,IAAI,YAAaQ,EAAS,OAAO,EACzC,MAAMC,EAAO,MAAMD,EAAS,QAC5B,QAAQ,IAAI,QAASC,CAAI,EACzB,MAAMC,EAAQD,EAAK,CAAC,EACpB,QAAQ,IAAI,SAASC,CAAK,EAC1BC,EAAWD,CAAK,CAClB,CAEA,SAASC,EAAWD,EAAO,CAEzB,MAAME,EAAgB,SAAS,cAAc,iBAAiB,EAC9D,QAAQ,IAAIF,CAAK,EAEnBE,EAAc,UAAY;AAAA;AAAA,2BAECF,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,gCAINA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAOhCX,CAAY,YAAYW,EAAM,aAAa,UAAUA,EAAM,KAAK;AAAA;AAAA,CAI9E,CAEA,eAAeG,GAAkB,CAI/B,MAAMJ,EAAO,MAHI,MAAM,MACrB,GAAGX,CAAQ,6BAA6B,OAAO,iBAChD,GAC2B,KAAM,EAClCgB,EAAiBL,EAAK,MAAM,CAC9B,CAEA,SAASK,EAAiBC,EAAQ,CAChC,MAAMC,EAAkB,SAAS,eAAe,UAAU,EACrDA,IAELA,EAAgB,UAAYD,EACzB,IACCE,GAAS;AAAA,qCACsBA,EAAM,IAAI;AAAA,OAE/C,EACK,KAAK,EAAE,EACZ,CAEAV,EAAoB,EACpBM,EAAiB"}