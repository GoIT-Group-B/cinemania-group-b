{"version":3,"file":"catalog.js","sources":["../src/js/fetchMovies.js","../src/js/generate-stars.js","../src/js/catalog-hero.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_KEY = \"52238d7fab5c2c01b99e751619dd16ec\";\r\nconst BASE_URL = 'https://api.themoviedb.org/3';\r\nconst IMG_BASE_URL = 'https://image.tmdb.org/t/p';\r\n\r\nexport { BASE_URL, IMG_BASE_URL };\r\n\r\n    \r\nexport const ENDPOINTS = {\r\n  POPULAR_MOVIES: '/movie/popular',\r\n  UPCOMING_MOVIES: '/movie/upcoming',\r\n  TRENDING_WEEK: '/trending/movie/week',\r\n  TRENDING_DAY: '/trending/movie/day',\r\n  SEARCH_MOVIES: '/search/movie',\r\n  GENRE_LIST: '/genre/movie/list',\r\n  MOVIE_DETAILS: movieId => `/movie/${movieId}`,\r\n  MOVIE_VIDEOS: movieId => `/movie/${movieId}/videos`,\r\n  IMG_ORIGINAL: '/original',\r\n  IMG_W500: '/w500',\r\n  IMG_W780: '/w780',\r\n  IMG_W1280: '/w1280',\r\n};\r\n\r\n\r\nexport async function fetchMovies(baseUrl, endpoint, params = {}) {\r\n  try {\r\n    const response = await axios.get(`${baseUrl}${endpoint}`, {\r\n      params: {\r\n        api_key: API_KEY,\r\n        language: 'en-US',\r\n        page: 1,\r\n        ...params,\r\n      },\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error fetching data:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function fetchGenres() {\r\n  try {\r\n    const response = await axios.get(`${BASE_URL}${ENDPOINTS.GENRE_LIST}`, {\r\n      params: { api_key: API_KEY, language: 'en-US' },\r\n    });\r\n    const map = {};\r\n    response.data.genres.forEach(g => {\r\n      map[g.id] = g.name;\r\n    });\r\n    return map;\r\n  } catch (err) {\r\n    console.error('Error fetching genres:', err);\r\n    return {};\r\n  }\r\n}","export function generateStars(vote) {\n  const ratingOutOf5 = Math.round(vote) / 2; // 10 üzerinden → 5'e indir\n  const fullStars = Math.floor(ratingOutOf5); // Tam dolu yıldız\n  const halfStar = ratingOutOf5 % 1 >= 0.5 ? 1 : 0; // Yarım varsa 1\n  const emptyStars = 5 - fullStars - halfStar;\n\n  let stars = '';\n\n  for (let i = 0; i < fullStars; i++) {\n    stars += '<span class=\"star\">★</span>';\n  }\n\n  if (halfStar) {\n    stars += '<span class=\"half-star\">⯨</span>'; // Alternatif: ✬ veya stil vereceğiz\n  }\n\n  for (let i = 0; i < emptyStars; i++) {\n    stars += '<span class=\"star-empty\">☆</span>';\n  }\n\n  return stars;\n}","import { fetchMovies, BASE_URL, ENDPOINTS, IMG_BASE_URL, fetchGenres } from './fetchMovies';\nimport { generateStars } from './generate-stars';\n\nasync function fetchTrendingMovie() {\n  const response = await fetchMovies(BASE_URL, ENDPOINTS.POPULAR_MOVIES);\n  const data = await response.results;\n\n  let index = 0;\n  const heroContainer = document.querySelector('.hero-container');\n\n  // İlk film\n  updateHero(data[index]);\n\n  setInterval(() => {\n    // Opaklığı sıfırla (kaybolsun)\n    heroContainer.style.opacity = '0';\n\n    // Bekle ve sonra değiştir\n    setTimeout(() => {\n      index = (index + 1) % data.length;\n      updateHero(data[index]);\n      \n      // Yeni film geldiğinde tekrar görünür yap\n      heroContainer.style.opacity = '1';\n    }, 500); // Geçiş efekti süresi\n  }, 5000);\n}\n\n\nfunction updateHero(movie) {\n  \n  const heroContainer = document.querySelector('.hero-container');\n  console.log(movie);\n\n  const backgroundUrl = `${IMG_BASE_URL}${ENDPOINTS.IMG_W1280}${movie.backdrop_path}`;\n    heroContainer.style.backgroundImage = `url('${backgroundUrl}')`;\n\nconst starsHTML = generateStars(movie.vote_average);\n\nheroContainer.innerHTML = `\n<div class=\"hero-content\">\n  <h1 class=\"hero-title\">${movie.title}</h1>\n  <div class=\"hero-rating\">${starsHTML}</div>\n  <p class=\"hero-description\">${movie.overview}</p>\n  <div class=\"hero-buttons\">\n    <button class=\"watch-trailer-btn\">Watch trailer</button>\n    <button class=\"more-details-btn\">More details</button>\n  </div>\n</div>\n\n`;  \n}\n\nasync function fetchCategories() {\n  const response = await fetch(\n    `${BASE_URL}/genre/movie/list?api_key=${API_KEY}&language=en-US`\n  );\n  const data = await response.json();\n  renderCategories(data.genres);\n}\n\nfunction renderCategories(genres) {\n  const categorySection = document.getElementById('category');\n  if (!categorySection) return;\n\n  categorySection.innerHTML = genres\n    .map(\n      genre => `\n        <div class=\"category-card\">${genre.name}</div>\n      `\n    )\n    .join('');\n}\n\nfetchTrendingMovie();\nfetchCategories();\n\nexport { fetchTrendingMovie, updateHero, fetchCategories, renderCategories };\n"],"names":["API_KEY","BASE_URL","IMG_BASE_URL","ENDPOINTS","fetchMovies","baseUrl","endpoint","params","axios","error","generateStars","vote","ratingOutOf5","fullStars","halfStar","emptyStars","stars","i","fetchTrendingMovie","data","index","heroContainer","updateHero","movie","backgroundUrl","starsHTML","fetchCategories","renderCategories","genres","categorySection","genre"],"mappings":"mFAEA,MAAMA,EAAU,mCACVC,EAAW,+BACXC,EAAe,6BAKRC,EAAY,CACvB,eAAgB,iBAWhB,UAAW,QACb,EAGO,eAAeC,EAAYC,EAASC,EAAUC,EAAS,CAAA,EAAI,CAChE,GAAI,CASF,OARiB,MAAMC,EAAM,IAAI,GAAGH,CAAO,GAAGC,CAAQ,GAAI,CACxD,OAAQ,CACN,QAASN,EACT,SAAU,QACV,KAAM,EACN,GAAGO,CACJ,CACP,CAAK,GACe,IACjB,OAAQE,EAAO,CACd,cAAQ,MAAM,uBAAwBA,CAAK,EACrCA,CACP,CACH,CCxCO,SAASC,EAAcC,EAAM,CAClC,MAAMC,EAAe,KAAK,MAAMD,CAAI,EAAI,EAClCE,EAAY,KAAK,MAAMD,CAAY,EACnCE,EAAWF,EAAe,GAAK,GAAM,EAAI,EACzCG,EAAa,EAAIF,EAAYC,EAEnC,IAAIE,EAAQ,GAEZ,QAASC,EAAI,EAAGA,EAAIJ,EAAWI,IAC7BD,GAAS,8BAGPF,IACFE,GAAS,oCAGX,QAASC,EAAI,EAAGA,EAAIF,EAAYE,IAC9BD,GAAS,oCAGX,OAAOA,CACT,CClBA,eAAeE,GAAqB,CAElC,MAAMC,EAAO,MADI,MAAMf,EAAYH,EAAUE,EAAU,cAAc,GACzC,QAE5B,IAAIiB,EAAQ,EACZ,MAAMC,EAAgB,SAAS,cAAc,iBAAiB,EAG9DC,EAAWH,EAAKC,CAAK,CAAC,EAEtB,YAAY,IAAM,CAEhBC,EAAc,MAAM,QAAU,IAG9B,WAAW,IAAM,CACfD,GAASA,EAAQ,GAAKD,EAAK,OAC3BG,EAAWH,EAAKC,CAAK,CAAC,EAGtBC,EAAc,MAAM,QAAU,GAC/B,EAAE,GAAG,CACP,EAAE,GAAI,CACT,CAGA,SAASC,EAAWC,EAAO,CAEzB,MAAMF,EAAgB,SAAS,cAAc,iBAAiB,EAC9D,QAAQ,IAAIE,CAAK,EAEjB,MAAMC,EAAgB,GAAGtB,CAAY,GAAGC,EAAU,SAAS,GAAGoB,EAAM,aAAa,GAC/EF,EAAc,MAAM,gBAAkB,QAAQG,CAAa,KAE/D,MAAMC,EAAYf,EAAca,EAAM,YAAY,EAElDF,EAAc,UAAY;AAAA;AAAA,2BAECE,EAAM,KAAK;AAAA,6BACTE,CAAS;AAAA,gCACNF,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAQ9C,CAEA,eAAeG,GAAkB,CAI/B,MAAMP,EAAO,MAHI,MAAM,MACrB,GAAGlB,CAAQ,6BAA6B,OAAO,iBAChD,GAC2B,KAAM,EAClC0B,EAAiBR,EAAK,MAAM,CAC9B,CAEA,SAASQ,EAAiBC,EAAQ,CAChC,MAAMC,EAAkB,SAAS,eAAe,UAAU,EACrDA,IAELA,EAAgB,UAAYD,EACzB,IACCE,GAAS;AAAA,qCACsBA,EAAM,IAAI;AAAA,OAE/C,EACK,KAAK,EAAE,EACZ,CAEAZ,EAAoB,EACpBQ,EAAiB"}